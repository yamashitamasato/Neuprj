<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Neu game|wait</title>
  </head>
  <body>
    <p>オーナーが開始するまでしばらくお待ちください<p>
      <div id="msg"></div>
  </body>
</html>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript">
  // 1.イベントとコールバックの定義
  var socketio = io.connect('http://localhost:8080');

  socketio.on("connected", function(name) {});
  socketio.on("publish", function (data) { addMessage(data.value); });
  socketio.on("disconnect", function () {});

  // 2.イベントに絡ませる関数の定義
  function start(name) {
    socketio.emit("connected", name);
  }
  //メッセージ送信
  socketio.on('jump', function() {
   // location.replace('/Game');
   location.href = "/Game";
  });

  function addMessage (msg) {
    var domMeg = document.createElement('div');
    domMeg.innerHTML = new Date().toLocaleTimeString() + ' ' + msg;
    msgArea.appendChild(domMeg);
  }

  // 3.開始処理
  var msgArea = document.getElementById("msg");
  var myName = Math.floor(Math.random()*100000) + "さん";
  addMessage("貴方は" + myName + "として入室しました");
  start(myName);
</script>
